<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(~{::title}, ~{::main})}">
<head>
  <title>PageOn 닉네임님의 서재</title>
</head>
<body>
<main th:fragment="bookshelf-list">
  <div class="position-relative padding-medium">
    <div class="container">
      <div class="section-title d-md-flex justify-content-between align-items-center mb-4">
        <h3 class="d-flex align-items-center"><span class="text-primary">닉네임</span>님의 서재</h3>
      </div>

     <table class="table table-border text-center my-5">
       <thead>
         <tr>
           <th>커버</th>
           <th>
             <a th:href="@{/bookshelf/list(page=${currentPage}, sortField='work_title', sortDir=${reverseSortDir})}">작품명
               <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-down-up" viewBox="0 0 16 16">
                 <path fill-rule="evenodd" d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5m-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5"/>
               </svg>
              </a>
           </th>
           <th>분류</th>
           <th>
             <a th:href="@{/bookshelf/list(page=${currentPage}, sortField='date_added', sortDir=${reverseSortDir})}">
               서재에 추가한 날짜
               <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-down-up" viewBox="0 0 16 16">
                 <path fill-rule="evenodd" d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5m-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5"/>
               </svg>
             </a>
           </th>
         </tr>
       </thead>
       <tbody>
        <tr th:each="book : ${list}">
          <td class="align-middle">
            <img class="img-fluid work-cover--sm" th:src="@{/img/{imgName}(imgName=${book.img_name})}" th:alt="|${book.work_title} 작품 이미지|"/>
          </td>
          <td class="align-middle"><a href="#" th:text="${book.work_title}"></a></td>
          <td class="align-middle">
            <form action="/book/updateSortOK" method="post">
              <select name="sort" onchange="this.form.submit()" class="form-select w-auto mx-auto">
                <option value="read" th:selected="${book.sort == 'read'}">읽은 작품</option>
                <option value="to-read" th:selected="${book.sort == 'to-read'}">읽고 싶은 작품</option>
                <option value="ing" th:selected="${book.sort == 'ing'}">읽고 있는 작품</option>
              </select>
              <input type="hidden" name="num" th:value="${book.num}" />
            </form>
          </td>
          <td class="align-middle" th:text="${book.date_added}"></td>
        </tr>
       </tbody>
     </table>
        <div class="d-flex justify-content-center">
          <a th:each="i : ${#numbers.sequence(1, totalPages)}"
             th:href="@{/bookshelf/list(page=${i}, sortField=${sortField}, sortDir=${sortDir})}"
             class="p-1"
             th:text="${i}">
          </a>
        </div>
    </div>
  </div>
  </div>
</main>
</body>
</html>
