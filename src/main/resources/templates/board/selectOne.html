<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(~{::title}, ~{::content})}">
<head>
    <meta charset="UTF-8">
    <title>자유게시판</title>
    <link rel="stylesheet" type="text/css" href="board.css">
    <style>
        .img-thumbnail {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
<div th:fragment="content">
    <div class="container mt-5">
        <h3 class="mb-4" th:text="${category == 'free' ? '자유 게시판' : '질문 게시판'}">게시판</h3>

        <div class="board-container d-flex align-items-start">
            <!-- 게시판 선택 -->
            <div class="d-flex mr-3">
                <div class="card text-center board-card" th:classappend="${category == 'free'} ? 'border-primary' : ''"
                     onclick="location.href='/freeboard'">
                    <div class="card-body">
                        <h5 class="card-title">자유 게시판</h5>
                    </div>
                </div>
                <div class="card text-center board-card ml-3"
                     th:classappend="${category == 'qna'} ? 'border-primary' : ''"
                     onclick="location.href='/qnaboard'">
                    <div class="card-body">
                        <h5 class="card-title">질문 게시판</h5>
                    </div>
                </div>
            </div>
        </div>


        <div class="card p-4">
            <!-- 게시글 정보 테이블 -->
            <table class="table table-bordered">
                <thead>
                <tr>
                    <td th:text="${vo2.num}"></td>
                    <td th:text="${vo2.title}"></td>
                    <td th:text="${vo2.user_id}"></td>
                    <td th:text="${vo2.wdate}"></td>
                </tr>
                </thead>
            </table>
            <div>
                <img th:src="@{/resources/upload_img/{img_name}(img_name=${vo2.img_name})}" class="img-thumbnail">
                <p th:utext="${vo2.formattedContent}"></p> <!-- th:utext를 사용하여 HTML 태그를 해석 -->
            </div>


        </div>

        <!-- 추후 회원 로그인 추가후 수정할것 -->
        <div class="d-flex justify-content-between mt-3">
            <!-- 게시글 수정 버튼 -->
            <a th:href="@{/b_update(num=${vo2.num})}" class="btn btn-primary">게시글수정</a>

            <!-- 게시글 삭제 버튼 -->
            <a th:href="@{/b_delete(num=${vo2.num}, category=${vo2.category})}" class="btn btn-danger">게시글삭제</a>

            <!-- 신고하기 버튼 -->
            <form th:action="@{/b_reportOK}" method="post" id="reportForm">
                <input type="hidden" name="num" th:value="${vo2.num}">
                <button type="button" class="btn btn-warning" onclick="confirmReport()">신고</button>
            </form>
        </div>

        <!--댓글-->


    </div>
</div>
</body>
</html>
